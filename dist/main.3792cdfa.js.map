{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","storage","localStorage","getItem","storageObject","JSON","parse","$input","$choiceBtn","$bigBox","$smallBox","$form","$globalMain","body","document","getElementsByTagName","console","log","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","e","splice","prompt","alert","indexOf","push","window","onbeforeunload","string","stringify","setItem","key","open","stopPropagation","ready","searchTypes","name","action","img","type","css","height","animate","length","click","fn","attr","mouseleave","onMouseWheel","down","wheelDelta","detail","removeClass","addClass","preventDefault","addEvent","obj","xEvent","attachEvent","addEventListener","passive"],"mappings":"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","file":"main.3792cdfa.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst storage = localStorage.getItem('storage')\r\nconst storageObject = JSON.parse(storage)\r\nconst $input = $('input')\r\nconst $choiceBtn = $('.choiceBtn')\r\nconst $bigBox = $('.bigBox')\r\nconst $smallBox = $(\".smallBox\")\r\nconst $form = $('.searchForm')\r\nconst $globalMain = $('.globalMain')\r\nconst body = document.getElementsByTagName('body')[0]\r\nconsole.log(body);\r\n\r\n\r\nconst hashMap = storageObject || [\r\n    { logo: 'a', url: \"https://www.acfun.cn\" },\r\n    { logo: 'b', url: \"https://www.baidu.com\" }\r\n]\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace(\"https://\", \"\").replace(\"http://\", \"\")\r\n        .replace(\"www.\", \"\")\r\n        .replace(/\\/.*/, '') // 删除 / 后面的内容\r\n}\r\n\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n        <li> \r\n            <div class=\"close\">\r\n                <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>              \r\n                <a href= \"${node.url}\" >\r\n                        <div class=\"site\">\r\n                            <div class=\"logo\">${node.logo}</div>\r\n                            <div class=\"link\">${simplifyUrl(node.url)}</div>    \r\n                        </div>\r\n                </a>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on('click', '.close', (e) => {\r\n            hashMap.splice(index, 1)\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$('.addButton')\r\n    .on('click', () => {\r\n        let url = prompt('请问你要添加我网址是啥')\r\n        console.log(url)\r\n        if (url === '') {\r\n            alert(\"请输入正确的网站\")\r\n            return null\r\n        } else if (url.indexOf('http://') === -1 && url.indexOf('https://') === -1) {\r\n            url = 'https://' + url\r\n        }\r\n\r\n        console.log(url)\r\n        hashMap.push({ logo: simplifyUrl(url)[0], url: url })\r\n        render()\r\n    })\r\n\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('storage', string)\r\n}\r\n\r\n$(document).on('keypress', (e)=>{\r\n    const {key} = e\r\n    console.log(key);\r\n    hashMap.forEach(node => {\r\n        if(node.logo === key){\r\n            window.open(node.url)\r\n        }\r\n    })\r\n})\r\n\r\n// 阻止input框的冒泡\r\n$input.on('keypress' ,(e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n// 切换搜索引擎\r\n$(document).ready( () => {\r\n    let searchTypes = [\r\n        { name: 'wd', action: 'https://www.baidu.com/s', img:'baidu.705500cf.png', type: 'baidu'},\r\n        { name: 'q', action: 'https://www.google.com/search', img: 'google.953ec577.png', type: 'google' },\r\n        { name: 'q', action: 'https://cn.bing.com/search', img: 'bing.4d496f25.png', type: 'bing' },\r\n        { name: 'query', action: 'https://www.sogou.com/web', img: 'sougou.698e3fe0.png', type: 'sougou'}\r\n    ]\r\n// 点击切换出现隐藏框\r\n    $choiceBtn.on('click', () => {\r\n        $bigBox.css({ \"display\": \"block\", height: 0 })\r\n        $bigBox.animate({\r\n            height: ($smallBox.height()) * $smallBox.length,\r\n        }, 300)\r\n    })\r\n// 箭头函数没this，被坑了好久\r\n    $smallBox.click(function fn() {\r\n        $form.attr(\"action\", searchTypes[$(this).index()].action)\r\n        $input.attr('name', searchTypes[$(this).index()].name)\r\n        $choiceBtn.find('img').attr('src', searchTypes[$(this).index()].img)\r\n        $bigBox.animate({\r\n            height: 0,\r\n        }, 300, () => {\r\n            $bigBox.css({ \"display\": \"none\", height: 0 });\r\n        })\r\n    })\r\n})\r\n\r\n$bigBox.mouseleave(function () {\r\n    $bigBox.animate({\r\n        height: 0,\r\n    }, 300, function () {\r\n        $bigBox.css({ \"display\": \"none\", height: 0 });\r\n    })\r\n})\r\n\r\n// siteList 下划隐藏\r\n\r\nfunction onMouseWheel(e) {/*当鼠标滚轮事件发生时，执行一些操作*/\r\n    let down = true // 定义一个标志，当滚轮向下滚时，执行一些操作\r\n    down = e.wheelDelta ? e.wheelDelta < 0 : e.detail > 0;\r\n    if (down) {\r\n        $globalMain.removeClass('in').addClass('out')\r\n    } else {\r\n        $globalMain.removeClass('out').addClass('in')\r\n    }\r\n    if (e.preventDefault) {/*FF 和 Chrome*/\r\n        e.preventDefault();// 阻止默认事件\r\n    }\r\n    return false;\r\n}\r\naddEvent(body, 'mousewheel', onMouseWheel);\r\naddEvent(body, 'DOMMouseScroll', onMouseWheel);\r\nfunction addEvent(obj, xEvent, fn) {\r\n    if (obj.attachEvent) {\r\n        obj.attachEvent('on' + xEvent, fn);\r\n    } else {\r\n        obj.addEventListener(xEvent, fn, { passive: false });\r\n    }\r\n}\r\n"]}
{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","storage","localStorage","getItem","storageObject","JSON","parse","$input","$choiceBtn","$bigBox","$smallBox","$form","$globalMain","body","document","getElementsByTagName","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","e","splice","prompt","alert","indexOf","push","window","onbeforeunload","string","stringify","setItem","key","open","stopPropagation","isTouchDevice","documentElement","attr","ready","searchTypes","name","action","img","type","css","height","animate","length","searchBox","keyCode","preventDefault","$box","currentTarget","mouseleave","onMouseWheel","down","wheelDelta","detail","removeClass","addClass","addEvent","obj","xEvent","fn","attachEvent","addEventListener","passive"],"mappings":"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","file":"main.ba88bffa.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst storage = localStorage.getItem('storage')\r\nconst storageObject = JSON.parse(storage)\r\nconst $input = $('input')\r\nconst $choiceBtn = $('.choiceBtn')\r\nconst $bigBox = $('.bigBox')\r\nconst $smallBox = $(\".smallBox\")\r\nconst $form = $('.searchForm')\r\nconst $globalMain = $('.globalMain')\r\nconst body = document.getElementsByTagName('body')[0]\r\n\r\n\r\nconst hashMap = storageObject || [\r\n  {logo: 'a', url: \"https://www.acfun.cn\"},\r\n  {logo: 'b', url: \"https://www.baidu.com\"}\r\n]\r\n\r\nconst simplifyUrl = (url) => {\r\n  return url.replace(\"https://\", \"\").replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, '') // 删除 / 后面的内容\r\n}\r\n\r\n\r\nconst render = () => {\r\n  $siteList.find('li:not(.last)').remove()\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`\r\n        <li> \r\n            <div class=\"close\">\r\n                <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>              \r\n                <a href= \"${node.url}\" >\r\n                        <div class=\"site\">\r\n                            <div class=\"logo\">${node.logo}</div>\r\n                            <div class=\"link\">${simplifyUrl(node.url)}</div>    \r\n                        </div>\r\n                </a>\r\n        </li>`).insertBefore($lastLi)\r\n    $li.on('click', '.close', (e) => {\r\n      hashMap.splice(index, 1)\r\n      render()\r\n    })\r\n  })\r\n}\r\n\r\nrender()\r\n\r\n$('.addButton')\r\n  .on('click', () => {\r\n    let url = prompt('请问你要添加我网址是啥')\r\n    if (url === '') {\r\n      alert(\"请输入正确的网站\")\r\n      return null\r\n    } else if (url.indexOf('http://') === -1 && url.indexOf('https://') === -1) {\r\n      url = 'https://' + url\r\n    }\r\n\r\n    hashMap.push({logo: simplifyUrl(url)[0], url: url})\r\n    render()\r\n  })\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap)\r\n  localStorage.setItem('storage', string)\r\n}\r\n\r\n$(document).on('keypress', (e) => {\r\n  const {key} = e\r\n  hashMap.forEach(node => {\r\n    if (node.logo === key) {\r\n      window.open(node.url)\r\n    }\r\n  })\r\n})\r\n\r\n// 阻止input框的冒泡\r\n$input.on('keypress', (e) => {\r\n  e.stopPropagation()\r\n})\r\n\r\n\r\n// 电脑端搜索框显示默认语句\r\nconst isTouchDevice = 'ontouchstart' in document.documentElement\r\nif (isTouchDevice === false) {\r\n  $input.attr('placeholder', \"在搜索框内按tab，可以换搜索引擎哟\")\r\n}\r\n// 切换搜索引擎\r\n$(document).ready(() => {\r\n  let index = localStorage.getItem('searchBox') || 0\r\n  let searchTypes = [\r\n    {name: 'wd', action: 'https://www.baidu.com/s', img: 'baidu.705500cf.png', type: 'baidu'},\r\n    {name: 'q', action: 'https://www.google.com/search', img: 'google.953ec577.png', type: 'google'},\r\n    {name: 'q', action: 'https://cn.bing.com/search', img: 'bing.4d496f25.png', type: 'bing'},\r\n    {name: 'query', action: 'https://www.sogou.com/web', img: 'sougou.698e3fe0.png', type: 'sougou'}\r\n  ]\r\n// 点击切换出现隐藏框\r\n  $choiceBtn.on('click', () => {\r\n    $bigBox.css({\"display\": \"block\", height: 0})\r\n    $bigBox.animate({\r\n      height: ($smallBox.height()) * $smallBox.length,\r\n    }, 300)\r\n  })\r\n// 显示搜索引擎\r\n  const searchBox = (index) => {\r\n    $form.attr(\"action\", searchTypes[index].action)\r\n    $input.attr('name', searchTypes[index].name)\r\n    $choiceBtn.find('img').attr('src', searchTypes[index].img)\r\n  }\r\n// 初始化搜索引擎，是上一次的选择\r\n  searchBox(index)\r\n// 可以用e.currentTarget 遍历bigBox的子元素，看谁被触发了事件\r\n// Tab键切换搜索引擎\r\n  $input.on('keydown', e => {\r\n    if (e.key === 'tab' || e.keyCode === 9) {\r\n      e.stopPropagation()\r\n      e.preventDefault()\r\n      if (index < searchTypes.length - 1) {\r\n        index++\r\n      } else {\r\n        index = 0\r\n      }\r\n      localStorage.setItem('searchBox', index)\r\n      searchBox(index)\r\n    }\r\n  })\r\n// 点击bigBox 切换搜索引擎\r\n  $bigBox.on('click', 'div', (e) => {\r\n    const $box = $(e.currentTarget)\r\n    index = $box.index()\r\n    localStorage.setItem('searchBox', index)\r\n    searchBox(index)\r\n    $bigBox.animate({\r\n      height: 0,\r\n    }, 300, () => {\r\n      $bigBox.css({\"display\": \"none\", height: 0})\r\n    })\r\n  })\r\n})\r\n\r\n$bigBox.mouseleave(function () {\r\n  $bigBox.animate({\r\n    height: 0,\r\n  }, 300, function () {\r\n    $bigBox.css({\"display\": \"none\", height: 0})\r\n  })\r\n})\r\n\r\n// siteList 下划隐藏\r\n\r\nfunction onMouseWheel(e) {/*当鼠标滚轮事件发生时，执行一些操作*/\r\n  let down = true // 定义一个标志，当滚轮向下滚时，执行一些操作\r\n  down = e.wheelDelta ? e.wheelDelta < 0 : e.detail > 0\r\n  if (down) {\r\n    $globalMain.removeClass('in').addClass('out')\r\n  } else {\r\n    $globalMain.removeClass('out').addClass('in')\r\n  }\r\n  if (e.preventDefault) {/*FF 和 Chrome*/\r\n    e.preventDefault()// 阻止默认事件\r\n  }\r\n  return false\r\n}\r\n\r\naddEvent(body, 'mousewheel', onMouseWheel)\r\naddEvent(body, 'DOMMouseScroll', onMouseWheel)\r\n\r\nfunction addEvent(obj, xEvent, fn) {\r\n  if (obj.attachEvent) {\r\n    obj.attachEvent('on' + xEvent, fn)\r\n  } else {\r\n    obj.addEventListener(xEvent, fn, {passive: false})\r\n  }\r\n}\r\n"]}